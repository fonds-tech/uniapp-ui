---
name: auto-format
description: 代码格式化规范。在生成、编辑、审查或重构任意文件后，自动执行格式化和 lint 修复命令。
---

# 自动格式化规范

在完成任何代码文件的生成、编辑、审查或重构后，**必须**执行以下命令进行代码格式化：

## 执行命令

```bash
pnpm run format && pnpm run lint:fix
```

## 执行时机

| 操作类型    | 是否执行                        |
| ----------- | ------------------------------- |
| 新建文件    | ✅ 是                           |
| 编辑文件    | ✅ 是                           |
| 重构代码    | ✅ 是                           |
| 批量修改    | ✅ 是（所有修改完成后执行一次） |
| 仅读取/查看 | ❌ 否                           |

## 执行规则

1. **单文件修改**：修改完成后立即执行
2. **多文件修改**：所有修改完成后执行一次（避免重复执行）
3. **失败处理**：如果格式化命令失败，需要检查并修复问题

## 注意事项

- 在执行格式化前确保所有文件修改已保存
- 如果 lint 报告错误，需要手动修复后再次运行
- 格式化结果可能会修改文件内容，这是预期行为
